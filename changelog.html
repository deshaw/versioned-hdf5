<!-- See https://github.com/bitprophet/alabaster/issues/166 -->

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Versioned HDF5 Change Log &#8212; Versioned HDF5  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Releasing" href="releasing.html" />
    <link rel="prev" title="Design" href="design.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="versioned-hdf5-change-log">
<h1>Versioned HDF5 Change Log<a class="headerlink" href="#versioned-hdf5-change-log" title="Permalink to this heading">¶</a></h1>
<section id="id1">
<h2>1.3.13 (2023-01-30)<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<section id="minor-changes">
<h3>Minor Changes<a class="headerlink" href="#minor-changes" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix the setting of <code class="docutils literal notranslate"><span class="pre">prev_version</span></code> in <code class="docutils literal notranslate"><span class="pre">delete_versions()</span></code>.</p></li>
</ul>
</section>
</section>
<section id="id2">
<h2>1.3.12 (2022-08-17)<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<section id="id3">
<h3>Minor Changes<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix variable length strings in _recreate_virtual_dataset. Note that for h5py
3.7.0 they cause a segfault without the upstream fix
<a class="reference external" href="https://github.com/h5py/h5py/pull/2111">h5py/h5py#2111</a>.</p></li>
</ul>
</section>
</section>
<section id="id4">
<h2>1.3.11 (2022-08-02)<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<section id="id5">
<h3>Minor Changes<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Improve the performance of creating versions in h5py 3.</p></li>
</ul>
</section>
</section>
<section id="id6">
<h2>1.3.10 (2022-06-16)<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h2>
<section id="id7">
<h3>Minor Changes<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix deleting the current version.</p></li>
<li><p>Properly handle fillvalue-only datasets in <code class="docutils literal notranslate"><span class="pre">delete_versions()</span></code>.</p></li>
</ul>
</section>
</section>
<section id="id8">
<h2>1.3.9 (2022-04-28)<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h2>
<section id="id9">
<h3>Minor Changes<a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">delete_versions()</span></code> with nested groups.</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">delete_versions()</span></code> with variable length strings.</p></li>
</ul>
</section>
</section>
<section id="id10">
<h2>1.3.8 (2022-03-29)<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h2>
<section id="major-changes">
<h3>Major Changes<a class="headerlink" href="#major-changes" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Versioning wrappers are now skipped when loading a file in read-only mode.
This leads to better performance in these cases.</p></li>
</ul>
</section>
<section id="id11">
<h3>Minor Changes<a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix the test suite with newer versions of pytest.</p></li>
</ul>
</section>
</section>
<section id="id12">
<h2>1.3.7 (2022-01-27)<a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h2>
<section id="id13">
<h3>Major Changes<a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">delete_version</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">delete_versions</span></code>, and now takes a list
of versions to delete. The old <code class="docutils literal notranslate"><span class="pre">delete_version</span></code> is kept intact for backwards
compatibility.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delete_versions</span></code> (née <code class="docutils literal notranslate"><span class="pre">delete_version</span></code>) is now much faster.</p></li>
</ul>
</section>
</section>
<section id="id14">
<h2>1.3.6 (2021-10-19)<a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h2>
<section id="id15">
<h3>Minor Changes<a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Create hashtable datasets with lzf compression enabled.</p></li>
</ul>
</section>
</section>
<section id="id16">
<h2>1.3.5 (2021-09-30)<a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h2>
<section id="id17">
<h3>Minor Changes<a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix a bug with the hashtable introduced in 1.3.4.</p></li>
</ul>
</section>
</section>
<section id="id18">
<h2>1.3.4 (2021-09-27)<a class="headerlink" href="#id18" title="Permalink to this heading">¶</a></h2>
<section id="id19">
<h3>Minor Changes<a class="headerlink" href="#id19" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Make the hashtable dataset much smaller for datasets with no data or version
history.</p></li>
</ul>
</section>
</section>
<section id="id20">
<h2>1.3.3 (2021-07-02)<a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h2>
<section id="id21">
<h3>Minor Changes<a class="headerlink" href="#id21" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix a regression that prevented indexing a dataset with a mask from working.</p></li>
</ul>
</section>
</section>
<section id="id22">
<h2>1.3.2 (2021-07-28)<a class="headerlink" href="#id22" title="Permalink to this heading">¶</a></h2>
<section id="id23">
<h3>Minor Changes<a class="headerlink" href="#id23" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Improve the performance of reading a reading a dataset that hasn’t been
written to (e.g., reading from an already committed version).</p></li>
<li><p>Fix Versioned HDF5 to work with h5py 3.3.</p></li>
<li><p>Fix an issue that would occur when using np.datetime64 objects for
timestamps when the fractional part of the second was exactly 0.</p></li>
</ul>
</section>
</section>
<section id="id24">
<h2>1.3.1 (2021-05-20)<a class="headerlink" href="#id24" title="Permalink to this heading">¶</a></h2>
<section id="id25">
<h3>Minor Changes<a class="headerlink" href="#id25" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Avoid some unnecessary precomputation in the hashtable object. This improves
the performance for files that have many versions in them.</p></li>
</ul>
</section>
</section>
<section id="id26">
<h2>1.3 (2021-05-07)<a class="headerlink" href="#id26" title="Permalink to this heading">¶</a></h2>
<section id="id27">
<h3>Major Changes<a class="headerlink" href="#id27" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Support h5py 3. h5py 2.10 is also still officially supported.</p></li>
<li><p>Add functionality to replay versions. This allows mutating old versions.</p></li>
<li><p>Add new helper functions <a class="reference internal" href="reference.html#versioned_hdf5.replay.delete_version" title="versioned_hdf5.replay.delete_version"><code class="xref any py py-func docutils literal notranslate"><span class="pre">delete_version</span></code></a> and <a class="reference internal" href="reference.html#versioned_hdf5.replay.modify_metadata" title="versioned_hdf5.replay.modify_metadata"><code class="xref any py py-func docutils literal notranslate"><span class="pre">modify_metadata</span></code></a>
to delete a version and modify metadata on a dataset that must be the same
across versions, such as chunk size or dtype.</p></li>
<li><p>Add helper function <a class="reference internal" href="reference.html#versioned_hdf5.replay.recreate_dataset" title="versioned_hdf5.replay.recreate_dataset"><code class="xref any py py-func docutils literal notranslate"><span class="pre">recreate_dataset</span></code></a> for more advanced version
replaying functionality.</p></li>
</ul>
</section>
<section id="id28">
<h3>Minor Changes<a class="headerlink" href="#id28" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Disallow accessing vfile[version] before version has been committed. Doing
so previously could lead to inconsistencies.</p></li>
<li><p>Disallow accessing non-versioned groups from VersionedHDF5File.</p></li>
<li><p>Better error messages from VersionedHDF5File when the underlying file is
closed.</p></li>
<li><p>Remove codecov.</p></li>
<li><p>Some improvements to the benchmarking suite.</p></li>
</ul>
</section>
</section>
<section id="id29">
<h2>1.2.6 (2021-04-20)<a class="headerlink" href="#id29" title="Permalink to this heading">¶</a></h2>
<section id="id30">
<h3>Minor Changes<a class="headerlink" href="#id30" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix a bug where chunks could be deleted from a dataset.</p></li>
<li><p>Workaround an upstream h5py bug in the tests.</p></li>
</ul>
</section>
</section>
<section id="id31">
<h2>1.2.5 (2021-04-15)<a class="headerlink" href="#id31" title="Permalink to this heading">¶</a></h2>
<section id="id32">
<h3>Minor Changes<a class="headerlink" href="#id32" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix a bug where attrs could be deleted from a dataset.</p></li>
</ul>
</section>
</section>
<section id="id33">
<h2>1.2.4 (2021-04-08)<a class="headerlink" href="#id33" title="Permalink to this heading">¶</a></h2>
<section id="id34">
<h3>Major Changes<a class="headerlink" href="#id34" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Many improvements to performance throughout the library, particularly for
datasets with many chunks, and for looking up versions by timestamp. This
also sets up potential future performance improvements by automatically
converting sparse staged datasets to fully in-memory.</p></li>
<li><p>Add some additional benchmarks to the benchmark suite.</p></li>
</ul>
</section>
</section>
<section id="id35">
<h2>1.2.3 (2021-02-25)<a class="headerlink" href="#id35" title="Permalink to this heading">¶</a></h2>
<section id="id36">
<h3>Minor Changes<a class="headerlink" href="#id36" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix the length of str dtype not being maintained from the fillvalue.</p></li>
</ul>
</section>
</section>
<section id="id37">
<h2>1.2.2 (2021-02-04)<a class="headerlink" href="#id37" title="Permalink to this heading">¶</a></h2>
<section id="id38">
<h3>Minor Changes<a class="headerlink" href="#id38" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Many improvements to performance throughout the library.</p></li>
<li><p>Added a benchmarking suite using <a class="reference external" href="https://asv.readthedocs.io/en/stable/">airspeed
velocity</a>. Graphs of the benchmarks
can be viewed at <a class="reference external" href="https://deshaw.github.io/versioned-hdf5/benchmarks/">https://deshaw.github.io/versioned-hdf5/benchmarks/</a>.</p></li>
<li><p>Versioned HDF5 now depends on ndindex version 1.5.1 or greater.</p></li>
</ul>
</section>
</section>
<section id="id39">
<h2>1.2.1 (2020-12-30)<a class="headerlink" href="#id39" title="Permalink to this heading">¶</a></h2>
<section id="id40">
<h3>Minor Changes<a class="headerlink" href="#id40" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Python 3.6 support has been dropped. The lowest version of Python now
supported is 3.7.</p></li>
<li><p>Fix creating a completely empty sparse dataset</p></li>
<li><p>Use ndindex.ChunkSize internally. This is the beginning of an overhaul that
improves the performance of many operations. ndindex 1.5 or newer is now
required.</p></li>
</ul>
</section>
</section>
<section id="id41">
<h2>1.2 (2020-11-17)<a class="headerlink" href="#id41" title="Permalink to this heading">¶</a></h2>
<section id="id42">
<h3>Major Changes<a class="headerlink" href="#id42" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add support for sparse datasets (<code class="docutils literal notranslate"><span class="pre">data=None</span></code>).</p></li>
<li><p>Store the chunks on an attribute of the dataset.</p></li>
<li><p>versioned-hdf5 is currently pinned to <code class="docutils literal notranslate"><span class="pre">h5py&lt;3</span></code>. h5py 3 support will be added
in a future version.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VersionedHDF5File[timestamp]</span></code> now returns the closest version before
<code class="docutils literal notranslate"><span class="pre">timestamp</span></code> if there is no version at <code class="docutils literal notranslate"><span class="pre">timestamp</span></code>.</p></li>
</ul>
</section>
</section>
<section id="id43">
<h2>1.1 (2020-09-15)<a class="headerlink" href="#id43" title="Permalink to this heading">¶</a></h2>
<section id="id44">
<h3>Major Changes<a class="headerlink" href="#id44" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added support for shape-0 datasets.</p></li>
<li><p>Fix a memory leak where in-memory datasets would not be garbage collected.</p></li>
<li><p>Added support for empty datasets (size 0).</p></li>
<li><p>Make sure versioned data is read-only after closing and reopening the file.</p></li>
<li><p>Allow deleting groups and datasets between versions. Note that currently
dataset metadata cannot change between versions, even if they are deleted in
between.</p></li>
</ul>
</section>
<section id="id45">
<h3>Minor Changes<a class="headerlink" href="#id45" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Most tests now use a temporary directory instead of writing a file in the
current directory.</p></li>
<li><p>Fix logic for handling trailing slashes with <code class="docutils literal notranslate"><span class="pre">in</span></code>.</p></li>
<li><p>Automatically create intermediate groups when creating a dataset.</p></li>
<li><p>Make indices that should give a scalar object do so instead of giving a
shape () array.</p></li>
</ul>
</section>
</section>
<section id="id46">
<h2>1.0 (2020-08-03)<a class="headerlink" href="#id46" title="Permalink to this heading">¶</a></h2>
<section id="id47">
<h3>Major Changes<a class="headerlink" href="#id47" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>First release of Versioned-HDF5.</p></li>
</ul>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Versioned HDF5</a></h1>










    

<p>
<a class="badge" href="https://travis-ci.org/deshaw/versioned-hdf5">
    <img
        alt="https://secure.travis-ci.org/deshaw/versioned-hdf5.svg?branch=master"
        src="https://secure.travis-ci.org/deshaw/versioned-hdf5.svg?branch=master"
    />
</a>
</p>


<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Versioned HDF5 Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">1.3.13 (2023-01-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">1.3.12 (2022-08-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">1.3.11 (2022-08-02)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">1.3.10 (2022-06-16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">1.3.9 (2022-04-28)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">1.3.8 (2022-03-29)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id12">1.3.7 (2022-01-27)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id14">1.3.6 (2021-10-19)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id16">1.3.5 (2021-09-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id18">1.3.4 (2021-09-27)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id20">1.3.3 (2021-07-02)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id22">1.3.2 (2021-07-28)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id24">1.3.1 (2021-05-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id26">1.3 (2021-05-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id29">1.2.6 (2021-04-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id31">1.2.5 (2021-04-15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id33">1.2.4 (2021-04-08)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id35">1.2.3 (2021-02-25)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id37">1.2.2 (2021-02-04)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id39">1.2.1 (2020-12-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id41">1.2 (2020-11-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id43">1.1 (2020-09-15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id46">1.0 (2020-08-03)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releasing.html">Releasing</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="design.html" title="previous chapter">Design</a></li>
      <li>Next: <a href="releasing.html" title="next chapter">Releasing</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="footer">
      &copy;2020, Quansight.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/changelog.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <span id="forkongithub"><a href="https://github.com/deshaw/versioned-hdf5">Fork me on GitHub</a></span>
  </body>
</html>